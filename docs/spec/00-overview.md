# 00 - 言語概要

## 概要

Cz は C-like 言語のコンパイラプロジェクトである。Rust の安全性と C++ の柔軟性を兼ね備えることを目指す。

## 設計方針

- **安全性**: 変数の可変性を明示的に管理する (`let` / `let mut`)
- **式指向**: `if`/`else`、`match`、`while` を式として扱い、値を返せる
- **静的型付け**: 豊富なプリミティブ型と代数的データ型による安全な型システム

## マイルストーン 1 (MS1) のスコープ

MS1 では以下の機能を提供する:

- 型: `i32` のみ
- 変数宣言: `let` / `let mut` (型注釈必須)
- 演算子: 算術、比較、論理
- 関数: `fn` 定義、末尾式による暗黙の戻り値、早期リターン
- 制御フロー: `if`/`else` (式)、`while` (文)
- エントリポイント: `fn main() -> i32`
- 組み込み関数: `print_i32(x)`
- コメント: `//` 行コメント

## マイルストーン 2 (MS2) のスコープ

MS2 では以下の機能を追加する:

### プリミティブ型の拡充

- 整数型: `i8`, `i16`, `i64` の追加 (既存の `i32` に加え)
- 浮動小数点型: `f32`, `f64`
- `bool` 型の独立化 (MS1 では `i32` で代用していたものを独立した型に)
- ユニット型 `()` の導入

### 型システムの強化

- 型推論: `let` の型注釈が省略可能に
- 明示的キャスト: `as` キーワードによる型変換
- リテラルサフィックス: `42i64`, `3.14f32` 等

### 制御フローの拡張

- `break` (値付き) / `continue` のサポート
- ループラベル: `'label: while ...`
- `while` の式化 (`break` の値またはユニット値を返す)
- `match` 式 (網羅性チェック付きパターンマッチ)

### データ構造

- 構造体: `struct` (フィールドアクセスのみ、`impl` なし)
- 列挙型: `enum` (タプル風・名前付きフィールドの両方をサポート)
- タプル: `(i32, bool)` 等

### パターンマッチ

- 整数・bool リテラルパターン
- 範囲パターン: `1..=5`
- ワイルドカード `_` と変数束縛
- 構造体・列挙型・タプルの分解
- 網羅性チェック

### 組み込み関数の拡充

- `print_i8`, `print_i16`, `print_i64`: 各整数型の出力
- `print_f32`, `print_f64`: 浮動小数点型の出力
- `print_bool`: 真偽値の出力 (`true` / `false` を出力)

## 将来のマイルストーンへの布石

以下は MS2 では未実装だが、将来のマイルストーンで導入予定である:

- メソッド (`impl` ブロック)
- `Optional<T>` 型
- 文字列型
- クロージャ / ラムダ式
- ジェネリクス
- トレイト / インターフェース
- モジュールシステム
