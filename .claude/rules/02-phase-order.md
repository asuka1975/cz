# Rule: 開発フェーズの順序遵守

## Priority: CRITICAL

開発は必ず以下の順序で進めること。フェーズの省略や前後入れ替えは禁止する。

## Phase 1: 仕様議論
- ユーザーと対話しながら言語機能の仕様を議論・決定する
- この段階では `docs/spec/` や `tests/` や `src/` へのファイル作成を行わない
- 議論中のコード例は会話内でのみ示す

## Phase 2: 仕様文書化・テストケース作成
- Phase 1 で合意した仕様を `docs/spec/` に Markdown として記述する
- 仕様に基づくテストケースを `tests/` に `.cz` ファイルとして作成する
- ユーザーに内容を確認してもらい、承認を得る

## Phase 3: 実装
- Phase 2 の成果物に基づいて `src/` にコンパイラを実装する
- テストケースが全て通ることを目指す

## Phase 遷移の条件
- Phase 1 → 2: ユーザーが仕様を承認したとき
- Phase 2 → 3: ユーザーがドキュメントとテストケースを承認したとき
- Phase 3 → 1: 仕様変更が必要になったとき (任意のタイミングで戻れる)
